<div class="container mt-2" style="height: 95vh">
  <div class="row">
    <!-- 검색창 중앙 정렬 -->
    <div
      class="d-flex justify-content-center flex-column flex-md-row flex-wrap"
    >
      <!-- 모바일에서는 세로로 쌓이고, 데스크탑에서는 가로로 나열 -->
      <div class="col-12 col-md-auto d-flex align-items-center mb-3">
        <!-- 모바일에서는 col-12로 전체 너비 차지 -->
        <input
          type="date"
          class="form-control me-2"
          placeholder="시작일"
          (ngModelChange)="onStartDateChange($event)"
          [(ngModel)]="startDate"
        />
        <span class="mx-2">~</span>
        <input
          type="date"
          class="form-control ms-2"
          placeholder="종료일"
          (ngModelChange)="onEndDateChange($event)"
          [(ngModel)]="endDate"
        />
      </div>
      <div
        class="col-12 col-md-auto d-flex align-items-center justify-content-between rounded-pill px-3 py-2 form-control ms-md-5"
        style="max-width: 600px"
      >
        <div class="d-flex align-items-center flex-grow-1">
          <i class="fas fa-search me-2 icon-hover" (click)="search()"></i>
          <input
            type="text"
            (keydown.enter)="search()"
            class="form-control border-0"
            placeholder="글 검색"
            [(ngModel)]="searchText"
            style="box-shadow: none"
          />
          <i
            class="bi bi-arrow-repeat icon-hover"
            style="font-size: 1.4rem"
            (click)="refresh()"
          ></i>
        </div>
      </div>
    </div>
  </div>

  <div class="row mt-3">
    <div
      class="col-12 d-flex justify-content-between align-items-center px-2 py-2"
    >
      <div class="col-auto d-flex align-items-center ps-4">
        전체 : <span class="px-2">{{ comma(totalRowCount$ | async) }}</span> 건
      </div>

      <div class="col-auto pe-2">
        <a
          class="icon-link link-warning link-underline-warning link-underline-opacity-25 icon-link-hover me-3"
          (click)="goToBlogView($event)"
          href="#"
        >
          Blog
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="bi"
            viewBox="0 0 16 16"
            aria-hidden="true"
          >
            <path
              d="M1 8a.5.5 0 0 1 .5-.5h11.793l-3.147-3.146a.5.5 0 0 1 .708-.708l4 4a.5.5 0 0 1 0 .708l-4 4a.5.5 0 0 1-.708-.708L13.293 8.5H1.5A.5.5 0 0 1 1 8z"
            />
          </svg>
        </a>
        <button class="btn btn-success me-2 btn-sm" (click)="openImportPopup()">
          <i class="bi bi-cloud-upload"></i>
        </button>
        <button class="btn btn-secondary btn-sm" (click)="goToWritePage()">
          + 새 글
        </button>
      </div>
    </div>

    <!-- 그리드 영역 -->
    <div
      class="col-12 ag-grid-container"
      style="width: 100%; padding: 0; margin: 0"
    >
      <app-admin-list-grid
        [rowData]="rows"
        [context]="gridContext"
      ></app-admin-list-grid>
    </div>
  </div>
</div>
